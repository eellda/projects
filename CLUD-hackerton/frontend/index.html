<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
  <title>Document</title>
  <style>
    
    body {
      margin-left: 30px;
    }

    #d-no, #d-name, #d-tel, #d-paym, #d-status {
      width: 200px;
    }
    #d-addr {
      width: 500px;
      height: 60px;
    }
    
    #d-msg {
      width: 400px;
      height: 100px;
    }

    #box2, #box3 {
      display: inline-block;
    }


  </style>
</head>
<body>
  <img src="./image/img.png" width="200"><h1>택배 관리 시스템</h1>
<form class="row g-3">
  <div>
    <div class="col-md-4" id="box1">
      <label for="validationServer01" class="form-label">번호</label>
      <input type="text" class="form-control is-valid" id="d-no" required>
    </div>
    <hr style="border: groove;">
  </div>
  <div class="col-md-4" id="box2">
    <label for="validationServer02" class="form-label">이름</label>
    <input type="text" class="form-control is-valid" id="d-name" value="" required>
  </div>
  <div class="col-md-4" id="box3">
    <label for="validationServerUsername" class="form-label">전화번호</label>
    <div class="input-group has-validation">
      <input type="text" class="form-control is-invalid" id="d-tel" aria-describedby="inputGroupPrepend3 validationServerUsernameFeedback" required>
    </div>
  </div>
  <div class="col-md-6" id="box4">
    <label for="validationServer03" class="form-label">주소</label>
    <input type="text" class="form-control is-invalid" id="d-addr" aria-describedby="validationServer03Feedback" required>
  </div>
  <div>
    <div class="col-md-3" id="box5">
      <label for="validationServer04" class="form-label">결제방식</label>
      <select class="form-select is-invalid" id="d-paym" aria-describedby="validationServer04Feedback" required>
        <option selected disabled value=""></option>
        <option value="0">무료배송</option>
        <option value="1">선불</option>
        <option value="2">착불</option>
      </select>
    </div>
    <div class="col-md-3" id="box6">
      <label for="validationServer04" class="form-label">배송 상태</label>
      <select class="form-select is-invalid" id="d-status" aria-describedby="validationServer04Feedback" required>
        <option selected disabled value=""></option>
        <option value="0">배송준비</option>
        <option value="1">발송중</option>
        <option value="2">배송완료</option>
      </select>
    </div>
    <div class="col-md-6" id="box7">
      <label for="validationServer03" class="form-label">배송 메세지</label>
      <input type="text" class="form-control is-invalid" id="d-msg" aria-describedby="validationServer03Feedback" required>
    </div>
  </div>
  <div class="col-12">
    <button class="btn btn-primary" type="submit" id="add-btn">등록</button>
    <button class="btn btn-primary" type="submit" id="list-btn">목록</button>
    <button class="btn btn-primary" type="submit" id="view-btn">조회</button>
  </div>
</form>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.querySelector('#add-btn').onclick = (e) => {
  var name = encodeURIComponent(document.querySelector('#f-name').value);
  var tel = document.querySelector('#f-tel').value;
  var addr = encodeURIComponent(document.querySelector('#f-addr').value);
  var paym = document.querySelector('#f-paym').value;
  var status = document.querySelector('#f-status').value;
  var msg = encodeURIComponent(document.querySelector('#f-msg').value);

fetch('http://localhost:8080/delivery',{
  method: 'POST',
  headers: {
      'Content-type': 'application/x-www-form-urlencoded'
    },
  body: `name=${name}&tel=${tel}&addr=${addr}&paym=${paym}&status=${status}&msg=${msg}`
})
  .then((response) => {return response.json();})
  .then((obj) => {
  })
  .catch((err) => {
    alert("서버 요청 오류!");
    console.log(err);
  })
};

document.querySelector('#list-btn').onclick = (e) => {
  location.href = "list.html";
};

document.querySelector('#view-btn').onclick = (e) => {
  location.href = "view.html";
};
</script>
</body>
</html>
