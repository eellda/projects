<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>비트캠프 - NCP 1기</title>
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
    crossorigin="anonymous"
  />
  <link rel="stylesheet" href="index.css" />
  <link rel="stylesheet" href="list.css" />
  </head>
  <body>

    <div class="main">
      <div class="container">
        <div class="header">
          <div class="header-head">
            <img src="img/logo.png" class="logo" />
            <p id="logo">여긴 좋아</p>
          </div>
          <div class="header-middle">
            <form class="input-text">
              <input
                type="text"
                class="search"
                placeholder="Search Item More"
              />
            </form>
          </div>
          <div class="header-tail">
            <ul>
              <li class="signup" id="signup">Create</li>
              <li class="login" id="login">Connect</li>
              <li class="logout" id="logout">
                <a href="app/auth/logout" onclick="logout(); return false;">
                  로그아웃(<span id="nickname"></span>)</a>
              </li>
            </ul>
          </div>
        </div>

        <div class="body">
          <div class="cate">
            <ul class="list">
              <li>HOT 플레이스</li>
              <li class="board">커뮤니티</li>
            </ul>
          </div>
          <div class="board-cate">
            <ul class="board-list">
                <li>자유</li>
                <li>Q&A</li>
                <li>맛집&이색카페</li>
                <li>여행 정보</li>
                <li>여행 동행</li>
            </ul>
          </div>
          <div class="board-main">
            <ul class="boardbox">
              <!-- main board here -->
              <table summary="This table shows how to create responsive tables using Datatables' extended functionality" class="table table-bordered table-hover dt-responsive" id="board-table">
                <thead class="board-head">       
                  <tr>
                    <th width="100px">번호</th>
                    <th>제목</th>
                    <th width="300px">글쓴이 </th>
                    <th width="100px">추천수</th>
                    <th width="150px">작성일</th>
                    <th width="100px">조회수</th>
                  </tr>
                </thead>
                <tbody>
                  
                </tbody>
              </table>
            </ul>
          </div>

          <!-- search -->
          <div class="_1-iJ">
            <svg viewBox="0 0 16 16" class="_3XWQ">
              <path
                fill="none"
                stroke="currentColor"
                stroke-width="1.5"
                d="M6.562 1.5c2.567 0 4.647 2.07 4.647 4.635 0 2.566-2.08 4.646-4.647 4.646s-4.647-2.08-4.647-4.646c0-2.566 2.08-4.635 4.647-4.635zM12.773 12.68L14.6 14.506"
              ></path>
            </svg>
            <input
              type="text"
              placeholder="Search"
              aria-label="Search"
              class="_3fLk"
            />
            <button type="submit" class="_2zEK">
              <svg viewBox="0 0 16 16" class="_3XWQ">
                <path
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.5"
                  d="M13.51 13.51l-2.263-2.263"
                ></path>
              </svg>
            </button>
          </div>

          <!-- pagination -->
          <div class="pagination">
            <ul> <!--pages or li are comes from javascript --> </ul>
          </div>
        </div>



        <div class="footer-main">
            <div>
              <ul class="main-f">
                <li class="f-f">
                  <img src="img/logo.png" class="logo" /><span>여긴 좋아</span>
                </li>
                <li class="f-s">Get the lates Updates</li>
              </ul>
            </div>
            <div>
              <ul class="main-s">
                <li class="s-f">가나다라</li>
                <li class="s-s">가나다</li>
              </ul>
            </div>
            <div>
              <ul class="main-t">
                <li class="t-f">Support</li>
                <li class="t-s">Help center</li>
                <li class="t-t">Terms of service</li>
              </ul>
            </div>
          </div>
          <div class="footer-tail">
            <div class="footer-tail-left">여긴 좋아,lnc.All Rights</div>
            <div class="footer-tail-right"> 
              <img src="img/Instagram.png" class="insta" />
              <img src="img/twitter.png" class="twi" />
              <img src="img/telegram.png" class="tele" />
              <img src="img/Discord.png" class="disc" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"
  ></script>
  <!-- <script src="index.js"></script> -->

    <script id="tr-template" type="text/x-handlebars-template">
      {{#each this}}
        <tr>
          <td>{{no}}</td>
          <td><a href="view.html?no={{no}}">
              {{#if title}}{{title}}{{else}}제목없음{{/if}}</a></td>
          <td>{{writer.name}}</td>
          <td>1234</td>
          <td>{{createdDate}}</td>
          <td>{{viewCount}}</td>
        </tr>
      {{/each}}
    </script>
    <script src="./pagination.js"></script>
    <script src="./index-board.js"></script>
    <script src="../node_modules/handlebars/dist/handlebars.js"></script>
    <script>
      // 템플릿으로 사용할 HTML을 준비한다.
      const html = document.querySelector("#tr-template").innerHTML;

      // HTML을 가지고 템플릿 엔진을 생성한다.
      const templateEngine = Handlebars.compile(html);

      fetch("../boards")
        .then((response) => {
          return response.json();
          // json()은 Promise 객체를 리턴한다.
          // Promise 객체가 하는 일:
          //   - 서버에서 응답 콘텐트를 받는 일을 한다.
          //   - 서버에서 받은 JSON 포맷의 문자열을 JavaScript 객체로 변환한다.
          //   - resolve()를 호출하여 다음 Promise 객체에 작업이 완료됐음을 통지한다.
          //     이때 변환된 JavaScript를 객체를 파라미터로 전달한다.
        })
        .then((result) => {
          document.querySelector("#board-table > tbody").innerHTML =
            templateEngine(result.data);
        });
    </script>
  </body>
</html>
